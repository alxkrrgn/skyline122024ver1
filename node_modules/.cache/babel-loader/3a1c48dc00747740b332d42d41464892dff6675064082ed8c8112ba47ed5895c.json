{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';// Ensure React Router is set up\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NavigationMenu=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[redirectPending,setRedirectPending]=useState(false);// New state to control redirection\nconst navigate=useNavigate();useEffect(()=>{// Check if the user is logged in by looking for session data (e.g., in localStorage)\nconst userData=localStorage.getItem('userData');setIsLoggedIn(!!userData);if(userData){isLoggedIn==true;}},[]);const handleLogout=()=>{// Clear session data and redirect to the home page\nlocalStorage.removeItem('userData');setIsLoggedIn(false);window.location.href='/login';};// Handle loading state or render null if not initialized\nif(isLoggedIn===null){return null;// Or a loading spinner if needed\n}useEffect(()=>{if(isLoggedIn){// Set a short delay to render the HTML before redirecting\nconst timer=setTimeout(()=>{setRedirectPending(true);// Trigger the redirection state\n},2000);// Adjust the delay as necessary\nreturn()=>clearTimeout(timer);}},[isLoggedIn]);useEffect(()=>{if(redirectPending){navigate('/dashboard');}},[redirectPending,navigate]);/*\n    useEffect(() => {\n        if (isLoggedIn) {\n            const timer = setTimeout(() => {\n                navigate('/dashboard'); // Automatically navigate to Dashboard\n            }, 2000); // Adjust delay as necessary\n            return () => clearTimeout(timer);\n        }\n    }, [isLoggedIn, navigate]);\n\n    */return/*#__PURE__*/_jsxs(\"ul\",{className:\"nav__menu\",id:\"menu\",tabIndex:-1,\"aria-label\":\"main navigation\",hidden:\"\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"nav__link\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/strategies\",className:\"nav__link\",children:\"Strategies\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/contact\",className:\"nav__link\",children:\"Contact\"})}),isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",className:\"nav__link\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",onClick:handleLogout,className:\"nav__link nav__button\",children:\"Log Out\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"nav__link\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"nav__link\",children:\"Login\"})})]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/getstarted\",className:\"nav__link\",children:\"Get Started\"})})]});};export default NavigationMenu;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","NavigationMenu","isLoggedIn","setIsLoggedIn","redirectPending","setRedirectPending","navigate","userData","localStorage","getItem","handleLogout","removeItem","window","location","href","timer","setTimeout","clearTimeout","className","id","tabIndex","hidden","children","onClick"],"sources":["/home/alex/skylineGhVer1/src/components/NavigationMenu.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Ensure React Router is set up\n\nconst NavigationMenu = () => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [redirectPending, setRedirectPending] = useState(false); // New state to control redirection\n    const navigate = useNavigate();\n\n\n    useEffect(() => {\n        // Check if the user is logged in by looking for session data (e.g., in localStorage)\n        const userData = localStorage.getItem('userData');\n        setIsLoggedIn(!!userData);\n\n        if (userData) {\n            isLoggedIn == true;\n        }\n        \n    }, []);\n\n    const handleLogout = () => {\n        // Clear session data and redirect to the home page\n        localStorage.removeItem('userData');\n        setIsLoggedIn(false);\n        window.location.href = '/login';\n    };\n\n     // Handle loading state or render null if not initialized\n     if (isLoggedIn === null) {\n        return null; // Or a loading spinner if needed\n    }\n\n    useEffect(() => {\n        if (isLoggedIn) {\n            // Set a short delay to render the HTML before redirecting\n            const timer = setTimeout(() => {\n                setRedirectPending(true); // Trigger the redirection state\n            }, 2000); // Adjust the delay as necessary\n            return () => clearTimeout(timer);\n        }\n    }, [isLoggedIn]);\n\n    useEffect(() => {\n        if (redirectPending) {\n            navigate('/dashboard');\n        }\n    }, [redirectPending, navigate]);\n\n    /*\n    useEffect(() => {\n        if (isLoggedIn) {\n            const timer = setTimeout(() => {\n                navigate('/dashboard'); // Automatically navigate to Dashboard\n            }, 2000); // Adjust delay as necessary\n            return () => clearTimeout(timer);\n        }\n    }, [isLoggedIn, navigate]);\n\n    */\n    return (\n        <ul\n            className=\"nav__menu\"\n            id=\"menu\"\n            tabIndex={-1}\n            aria-label=\"main navigation\"\n            hidden=\"\"\n          >\n            <li className=\"nav__item\">\n                <a href=\"/\" className=\"nav__link\">\n                    Home\n                </a>\n            </li>\n            <li className=\"nav__item\">\n                <a href=\"/strategies\" className=\"nav__link\">\n                    Strategies\n                </a>\n            </li>\n            <li className=\"nav__item\">\n                <a href=\"/contact\" className=\"nav__link\">\n                    Contact\n                </a>\n            </li>\n            {isLoggedIn ? (\n                <div>\n                    <li className=\"nav__item\">\n                        <a href=\"/dashboard\" className=\"nav__link\">\n                            Dashboard\n                        </a>\n                    </li>\n                    <li className=\"nav__item\">\n                        <a href='/login' onClick={handleLogout} className=\"nav__link nav__button\">\n                            Log Out\n                        </a>\n                    </li>\n                </div>\n            ) : (\n               <div>\n                    <li className=\"nav__item\">\n                        <a href=\"/register\" className=\"nav__link\">\n                            Register\n                        </a>\n                    </li>\n                    <li className=\"nav__item\">\n                        <a href=\"/login\" className=\"nav__link\">\n                            Login\n                        </a>\n                    </li>\n                </div>\n            )}\n            <li className=\"nav__item\">\n                <a href=\"/getstarted\" className=\"nav__link\">\n                    Get Started\n                </a>\n            </li>\n        </ul>\n    );\n\n};\n\nexport default NavigationMenu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}