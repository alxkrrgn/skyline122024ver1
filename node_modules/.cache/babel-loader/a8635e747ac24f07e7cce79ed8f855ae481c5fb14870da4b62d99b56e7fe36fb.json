{"ast":null,"code":"// src/components/Header.js\nimport React,{useEffect,useState}from'react';import'../styles/App.css';// Import the CSS file for styling\nimport'../styles/HeaderHamburger.scss';// Import the CSS file for styling\nimport NavigationMenu from'./NavigationMenu';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const[isLoggedIn,setIsLoggedIn]=useState(null);// Track login state\nuseEffect(()=>{// Check if the user is logged in by checking local storage or session data\nconst checkLoginStatus=()=>{const userData=localStorage.getItem('userData');setIsLoggedIn(!!userData);// Convert to boolean\nif(userData){isLoggedIn==true;}};checkLoginStatus();// Initial check\n// Refresh menu when session starts or changes\nconst handleStorageChange=()=>{checkLoginStatus();};handleStorageChange();// Secondary check\nconst nav=document.querySelector('#nav');const menu=document.querySelector('#menu');const menuToggle=document.querySelector('.nav__toggle');let isMenuOpen=false;if(menuToggle&&nav&&menu){// Toggle menu active state on click\nconst toggleMenu=e=>{e.preventDefault();isMenuOpen=!isMenuOpen;menuToggle.setAttribute('aria-expanded',String(isMenuOpen));menu.hidden=!isMenuOpen;nav.classList.toggle('nav--open');};// Trap tab inside nav when open\nconst trapTabKey=e=>{if(!isMenuOpen||e.ctrlKey||e.metaKey||e.altKey){return;}const menuLinks=menu.querySelectorAll('.nav__link');if(e.keyCode===9){if(e.shiftKey){if(document.activeElement===menuLinks[0]){menuToggle.focus();e.preventDefault();}}else if(document.activeElement===menuToggle){menuLinks[0].focus();e.preventDefault();}}};menuToggle.addEventListener('click',toggleMenu);nav.addEventListener('keydown',trapTabKey);// Cleanup event listeners on component unmount\nreturn()=>{menuToggle.removeEventListener('click',toggleMenu);nav.removeEventListener('keydown',trapTabKey);};}// Refresh menu when session starts or changes\nwindow.addEventListener('storage',checkLoginStatus);return()=>{window.removeEventListener('storage',checkLoginStatus);};},[]);const handleLogout=()=>{localStorage.removeItem('userData');setIsLoggedIn(false);setTimeout(()=>{navigate('/');// Redirect to the dashboard\n},1000);// window.location.href = '/';\n};return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",role:\"banner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/images/logo-skyline.png\"),alt:\"Skyline Logo\",style:{width:220,height:50}})})})}),/*#__PURE__*/_jsxs(\"nav\",{id:\"nav\",className:\"nav\",role:\"navigation\",children:[/*#__PURE__*/_jsx(NavigationMenu,{}),/*#__PURE__*/_jsx(\"a\",{href:\"#nav\",className:\"nav__toggle\",role:\"button\",\"aria-expanded\":\"false\",\"aria-controls\":\"menu\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"menuicon\",xmlns:\"http://www.w3.org/2000/svg\",width:50,height:50,viewBox:\"0 0 50 50\",children:[/*#__PURE__*/_jsx(\"title\",{children:\"Toggle Menu\"}),/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{className:\"menuicon__bar\",x1:13,y1:\"16.5\",x2:37,y2:\"16.5\"}),/*#__PURE__*/_jsx(\"line\",{className:\"menuicon__bar\",x1:13,y1:\"24.5\",x2:37,y2:\"24.5\"}),/*#__PURE__*/_jsx(\"line\",{className:\"menuicon__bar\",x1:13,y1:\"24.5\",x2:37,y2:\"24.5\"}),/*#__PURE__*/_jsx(\"line\",{className:\"menuicon__bar\",x1:13,y1:\"32.5\",x2:37,y2:\"32.5\"}),/*#__PURE__*/_jsx(\"circle\",{className:\"menuicon__circle\",r:23,cx:25,cy:25})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"splash\"})]})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","NavigationMenu","jsx","_jsx","jsxs","_jsxs","Header","isLoggedIn","setIsLoggedIn","checkLoginStatus","userData","localStorage","getItem","handleStorageChange","nav","document","querySelector","menu","menuToggle","isMenuOpen","toggleMenu","e","preventDefault","setAttribute","String","hidden","classList","toggle","trapTabKey","ctrlKey","metaKey","altKey","menuLinks","querySelectorAll","keyCode","shiftKey","activeElement","focus","addEventListener","removeEventListener","window","handleLogout","removeItem","setTimeout","navigate","className","role","children","href","src","concat","process","env","PUBLIC_URL","alt","style","width","height","id","xmlns","viewBox","x1","y1","x2","y2","r","cx","cy"],"sources":["/home/alex/skylineGhVer1/src/components/Header.js"],"sourcesContent":["// src/components/Header.js\nimport React, { useEffect, useState } from 'react';\nimport '../styles/App.css'; // Import the CSS file for styling\nimport '../styles/HeaderHamburger.scss'; // Import the CSS file for styling\nimport NavigationMenu from './NavigationMenu';\n\nconst Header = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(null); // Track login state\n\n  useEffect(() => {\n    // Check if the user is logged in by checking local storage or session data\n    const checkLoginStatus = () => {\n      const userData = localStorage.getItem('userData');\n      setIsLoggedIn(!!userData); // Convert to boolean\n\n      if (userData) {\n        isLoggedIn == true;\n    }\n    };\n\n    checkLoginStatus(); // Initial check\n\n    // Refresh menu when session starts or changes\n    const handleStorageChange = () => {\n        checkLoginStatus();\n        };\n\n      handleStorageChange(); // Secondary check\n\n    const nav = document.querySelector('#nav');\n    const menu = document.querySelector('#menu');\n    const menuToggle = document.querySelector('.nav__toggle');\n    let isMenuOpen = false;\n\n    if (menuToggle && nav && menu) {\n      // Toggle menu active state on click\n      const toggleMenu = (e) => {\n        e.preventDefault();\n        isMenuOpen = !isMenuOpen;\n        menuToggle.setAttribute('aria-expanded', String(isMenuOpen));\n        menu.hidden = !isMenuOpen;\n        nav.classList.toggle('nav--open');\n      };\n\n      // Trap tab inside nav when open\n      const trapTabKey = (e) => {\n        if (!isMenuOpen || e.ctrlKey || e.metaKey || e.altKey) {\n          return;\n        }\n\n        const menuLinks = menu.querySelectorAll('.nav__link');\n        if (e.keyCode === 9) {\n          if (e.shiftKey) {\n            if (document.activeElement === menuLinks[0]) {\n              menuToggle.focus();\n              e.preventDefault();\n            }\n          } else if (document.activeElement === menuToggle) {\n            menuLinks[0].focus();\n            e.preventDefault();\n          }\n        }\n      };\n\n      menuToggle.addEventListener('click', toggleMenu);\n      nav.addEventListener('keydown', trapTabKey);\n\n      // Cleanup event listeners on component unmount\n      return () => {\n        menuToggle.removeEventListener('click', toggleMenu);\n        nav.removeEventListener('keydown', trapTabKey);\n      };\n    }\n  \n   // Refresh menu when session starts or changes\n   window.addEventListener('storage', checkLoginStatus);\n\n   return () => {\n     window.removeEventListener('storage', checkLoginStatus);\n   };\n\n }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('userData');\n    setIsLoggedIn(false);\n    setTimeout(() => {\n      navigate('/'); // Redirect to the dashboard\n  }, 1000);\n   // window.location.href = '/';\n  };\n\n  return (\n    <header className=\"header\" role=\"banner\">\n      <div className=\"left-header\">\n        <div className=\"logo\">\n          <a href=\"/\">\n            <img \n              src={`${process.env.PUBLIC_URL}/images/logo-skyline.png`} \n              alt=\"Skyline Logo\" \n              style={{ width: 220, height: 50 }} \n            />\n          </a>\n        </div>\n      </div>\n      <nav id=\"nav\" className=\"nav\" role=\"navigation\">\n        {/* ACTUAL NAVIGATION MENU */}\n        <NavigationMenu />\n        {/* MENU TOGGLE BUTTON */}\n        <a\n          href=\"#nav\"\n          className=\"nav__toggle\"\n          role=\"button\"\n          aria-expanded=\"false\"\n          aria-controls=\"menu\"\n        >\n          <svg\n            className=\"menuicon\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={50}\n            height={50}\n            viewBox=\"0 0 50 50\"\n          >\n            <title>Toggle Menu</title>\n            <g>\n            <line\n                  className=\"menuicon__bar\"\n                  x1={13}\n                  y1=\"16.5\"\n                  x2={37}\n                  y2=\"16.5\"\n                />\n                <line\n                  className=\"menuicon__bar\"\n                  x1={13}\n                  y1=\"24.5\"\n                  x2={37}\n                  y2=\"24.5\"\n                />\n                <line\n                  className=\"menuicon__bar\"\n                  x1={13}\n                  y1=\"24.5\"\n                  x2={37}\n                  y2=\"24.5\"\n                />\n                <line\n                  className=\"menuicon__bar\"\n                  x1={13}\n                  y1=\"32.5\"\n                  x2={37}\n                  y2=\"32.5\"\n                />\n                <circle className=\"menuicon__circle\" r={23} cx={25} cy={25} />\n            </g>\n          </svg>\n        </a>\n        {/* ANIMATED BACKGROUND ELEMENT */}\n        <div className=\"splash\" />\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}